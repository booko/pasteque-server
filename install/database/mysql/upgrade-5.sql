--    Pasteque is a point of sales software
--    Copyright (C) 201 SARL SCOP Scil
--    http://github.com/ScilCoop
--
--    This file is part of Pasteque
--
--    POS-tech is free software: you can redistribute it and/or modify
--    it under the terms of the GNU General Public License as published by
--    the Free Software Foundation, either version 3 of the License, or
--    (at your option) any later version.
--
--    POS-tech is distributed in the hope that it will be useful,
--    but WITHOUT ANY WARRANTY; without even the implied warranty of
--    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
--    GNU General Public License for more details.
--
--    You should have received a copy of the GNU General Public License
--    along with POS-tech. If not, see <http://www.gnu.org/licenses/>.

-- Database upgrade script for MYSQL

-- db v5 - v6

-- final script


-- Providers

CREATE TABLE PROVIDERS (
    ID VARCHAR(255) NOT NULL,
    NAME VARCHAR(255) NOT NULL,
    IMAGE MEDIUMBLOB,
    ADDRESS VARCHAR(255),
    ADDRESS2 VARCHAR(255),
    POSTAL VARCHAR(255),
    CITY VARCHAR(255),
    REGION VARCHAR(255),
    COUNTRY VARCHAR(255),
    FIRSTNAME VARCHAR(255),
    LASTNAME VARCHAR(255),
    EMAIL VARCHAR(255),
    PHONE VARCHAR(255),
    PHONE2 VARCHAR(255),
    WEBSITE VARCHAR(255),
    FAX VARCHAR(255),
    NOTES VARCHAR(255),
    DISPORDER INTEGER DEFAULT NULL,
    VISIBLE BIT DEFAULT b'1' NOT NULL,
    PRIMARY KEY (ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

ALTER TABLE PRODUCTS ADD COLUMN PROVIDER VARCHAR(255);
ALTER TABLE PRODUCTS ADD CONSTRAINT PRODUCTS_PROVIDER_FK FOREIGN KEY (PROVIDER) REFERENCES PROVIDERS(ID);

-- Payments

ALTER TABLE PAYMENTS ADD COLUMN PAIRED_WITH VARCHAR(255);

-- Payment Modes

CREATE TABLE PAYMENTMODES (
    ID INT(11) NOT NULL AUTO_INCREMENT,
    CODE VARCHAR(255) NOT NULL,
    NAME VARCHAR(255) NOT NULL,
    BACKNAME VARCHAR(255) NOT NULL DEFAULT '',
    FLAGS INT(11) DEFAULT 0 NOT NULL,
    ACTIVE BIT DEFAULT b'1' NOT NULL,
    SYSTEM BIT DEFAULT b'0' NOT NULL,
    DISPORDER INT(11) DEFAULT 0 NOT NULL,
    IMAGE MEDIUMBLOB,
    PRIMARY KEY (ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `PAYMENTMODES` (`ID`, `CODE`, `NAME`, `BACKNAME`, `FLAGS`, `ACTIVE`, `SYSTEM`, `DISPORDER`, `IMAGE`) VALUES
(1, 'cash', 'Espèces', 'Rendu', 0, b'1', b'0', 0, 0x89504e470d0a1a0a0000000d4948445200000020000000200806000000737a7af400000006624b4744000000000000f943bb7f000000097048597300000b1300000b1301009a9c180000000774494d4507d60b13171f0b7e2efe110000001d74455874436f6d6d656e7400437265617465642077697468205468652047494d50ef64256e0000088d4944415478dabd97698c5e5519c77fe79cbbbdfb3b33ef74a64c693b5d1c040a4359440c5b04428828444c4dba2089986834c6109226eef8016342fd80319a88829000912db204121111316052d94a17bb4d9976dae92ceffedee5dc7b8e1fa63428582a82e7e47cbbb9cfef3cdbf93f828f60ddf3cabde37937f85698c43fdeb476c38e137d2b3e4cc30f6c7bb0e608f5c3b1a1b1af0ce46bcebeb93df164e3e0f7060a8beeb86ac5a7b38f04a0652d2f4d3eaba6eb876f1eadadf8d18ada68ad1376504251f5fb38da39cadeb93d7f6d86f59bd68f6ffcc78706a00f7db5203a6f6e36a270ee0bf2c6a1e58bcf5fab90443aa62fe8a3ec9550428115cc7667d83dbfb777a879e8db2b4a2befbc70f482ec0303985e03fbd6d537109c7307cec0524b8cb186b77257e2e44ea39aabe0e1238544a250287a49176d35071a134c340efca9a7db5f5ebf66d3deff1a20db75c9d9d6a9fd94dc9acb45fb3944b40b541953be122bfb884b1741e9529450080436b34c77a6996a1d22236369dfa9c49966dffcfef64c67e6d68f2f1afbd5490198fd37d74cbceffba274d1d788764bd17a0221f3a0cac74e05139c01dea984a28aa8ad27358656d8a49374e9246d023760497509075b9334e2267db93efe3eb1758b7a3fe3e9de8de3c6345f16f9b32f13b3bf1032da869005702aa0ca585946a832020bc2c37107d0f5a730f97311384821182e0e51c955d833bf072b2c8b4a43ec9fdd4f47878fcb13197f7cc763deefea575ffbeac4700d9b2154055401540954116411a18a0b20aa8c1020b23ab9c25a72d33fa1a234c3a561b4d1ec98d949355725ef1639549f4408896365e33d3dd0b0339c7edd59d7e44af9c746578c7e212e9ecebe6d7b583c721ac209103644a8d2310f54104e09214ba02a0b4042a00ae723eaf77334914c8609cbaa4b99edcd10ea1e511a93f703e6bb8d17de05f0c0ebf78fee6d1eb8fbd42523b7d5fa076a49a2f1723e95a56bd9feda3c832583575c8dc83aa04ac7402ac772a104b28c70ca207d44f113e4dacf51ced7d8d56ae3298f50f750d2410073ddf96dc793f0d19d8f049da47bebe0506d73adbf968fa318632ca5a044de2da084426630f1b7adacf69e6678c91a64bc1d21cbc743805341c8ca7120abaa58e1b0f7c0dd344b9fc5d8949e0e29f839da5187c9fac1db9d23699367b6fdfe3a99935b568eae1c355946b3dd24e7e5a8162b78d247580156209560f5859f6472fb30ad9df7f0b1332e40a6732003842a835cf08255a585c47486b036c192a284a4938404ae8fb196d82408c1943ae3bab1db4e597ecacffb0706fada9d3626cda8142a948212523a643ae3e0e1491aed06184bdecfd3bf6890c81d67e28d67181a1e42ba4308957b4708aa18358cb50e26a913863ba88b5341580237a0ab43941074c3ce1352093953afd7d1718cef7938cac5733c8410486062723fd3b3d374c32ecd6e8b46bb851092c19121169f7f0b2fbdd6256cefc638c320cb585521b503a45148d29d41f766f194476212f26e81244bc0180a7e012db2a552e2cd0ba0d96e138731bee7d3683749330348fa2afd28a57084c2910a29050b1b8ad5022317aee3cfbb6accbff5081945749c23e9cea33bd3249d2324e12c711ae3491fb0446942e0faf4e21ed2e03b065d0982225a6b5ca9989b9b65f1e0625add16e55c99a1fe21aaf90a491c13b801e55c75a13b1ac37cb74e94868c5f7c3dbb5ffc35e37dfb49cd30268b313a244b7b08d326521141c1a7a7bb38429264da4cb766be7bdef2f36e772c66142c4a08d22cc5753ca6a6a718a92d218a2270a1942b52094a48244248749ad2e8d6111646ca2334ba75ba26c2c42db496643a244b434c1a216d0f5951186bd12643085a93f3935fda38bef15100074447eb94200848e218d77350d2617a7e9abe621fc6185abd367db92a5248a238a41db6f055c0606190037393a45982120a1dce914409591a629305082963f20305a6920edaa4fb0e37a73e77e3f8a66d6f97bf83905369aa810025153acdf05d9f388a09a31e5114325419a6d16de04997244928fa252a7e99ed87df24ef14887488928a2c6e12777ad863b7cf7488a35284f16827ed3fe844afbf717cd3d177363ec731a2eb380e699ae2b92e49ac31d6e0b92eb14ec8f9390ece4eb2bc364aa423aa857e5c14af1d7c9da25f5cc86a04d61ad2b085ee64982cc2e81e591a615d83ea351ef38a17afbb76ecf2e4df3baf93497bbaef0524490ccac1510aad35792f4f94866499c1713c268e4eb06c7019898ed93b7770a15411846948c12dd2349a346aa2bb1db234c2e81893450c2c2b999a37f3e0aad1771b5f003029898e715c9724d5e4dc80384e484d8ae7fa243aa6e8173132e548fdc8b11234f88e479c44b8d245490908d2b841d2ad63d208a461d969d54e79a073933bf6fc43ffe9c595978d5dfa9d5eab770bc624188b3106d775d15ae348170424a9c67773c4594c9c26784e409665244613b8397496e04887346e93c64d5c4fb17abc7ca03ad0fb943bf6c7874ef4e4cbd1c20a369cb9614b73a67985b1762a4ef4c28d04e86ca169e834410870e54288945244598ceff880214e13140a6c4ab15662d5384fe7fa975ca0c69e7ffdfd04cf7141b2f19c4d2f24cdf83c1dc72fc63ac1733db4d648a1904a91e884c00d081c9f24d560c15701611ae148853629fd2305bbf24ce767ded0e73fe32cbfebe8c9c8bd7f5144ebcefae2e1a22d5dde6ab6ef4cb3d4be6dd8773d74a6b1162ca0d304cf0dc86c4a660c99cdba71e63f5bcaefdee0ac7aea1b6ae89bd9c90addf714a5f3e91c4f6e7b727d6d60d12fada150f4f36499c1588bb2022120ef14e8c41d32934d1e6e1eb97ee3f886ad1f64be38a12abeef95fbd6542ae5473cc75f550c8af4a21081a0e8150893986edcfa4bb717dfb0eeec1ba63fe880f3beb2fce1371eaee0726fb558bdd6931ec20a529331db9eb9abeae6bf7ec5ea6ba2ff65b43ba9b960ebe197d5ced97d9b4fe91bfe81b4d8a9e691cd17adb864cbb2fc08ffd7f5dbadbfb9f2de57efbeeac3fce73f017e63286c182c79a50000000049454e44ae426082),
(2, 'cheque', 'Chèque', '', 0, b'1', b'0', 7, 0x89504e470d0a1a0a0000000d4948445200000020000000200806000000737a7af40000000467414d410000afc837058ae9000007c449444154789cbd967b7015e519879f6f2f67cf2509e7242139b92730dc85882042b8d414b40a532f53b58aadadb5e368475babedd8763a6dadd3a9e3b4d65647bc548a5a6bb51719318a400a428da25c8a089260484224e47272929373dbddb3bb5fff38e928169c5ac1df3fbbb3fbedfb3eefedfb56e5cc48edbcaff1fea573cefb422ad69f7b6fd8ea3a437e4eae2fcde762e7fdf3a5b40ec84ccf1ee7975f59f16bc0f8cc00dad6b0410e23e51bb5521efab93cbef60659a6b1e83371be7c16e7ba9de4e42121e5cb48f9876a795fb37f1fd070b2f5cae906b8e94abea594a81a2301702a193b1ee0b1dde673c099ef8379354cceee0f2465778994af564af9dc1cf9c4659123c0ac537da39d4e80af5fa27ed33fa9ac80c33e7043583195475f1f7d1e78f78c002cf9c18b91e2394b2f773dae1d5bff9d2dd7aedeb89a5429d8805b42ebee8ea1d706e45f00efb4025cf4db0e432b0d7f3520ad3ba6d5faa787823ea6552ef97c64ea018887401a78a33a8f6ceb6b01f67c9cad4f0c70e1ef765d563cb9eece8622b9b06e828200cc6c82c5e55b4144f3d11361e7ae03c9964efb19c69f7c6a80558fb74ff287cb1f080b67e55c6d901a4550a10710526368703d65932cc8840109593feb5e7ebbd585b6539853182fcb29016ebcf1a7c1b90b2fadf2546776da4a3446eafdd7d5153bf555058248b09050c887cfa7e1d82e539c0ed04b60cc0511647820cbaee22bb2f04cea43260554042052041903ba0700f39400c1c2e0dd175f30f9e682a01608050d54e98200dbf1b0731ea6e5903205eae86e269626c129052f03a6c6dec44466dd72e797e391597dddcffff84750a7805e0aa61f4634d0158896437faf7a32e797fcb967852f5c7af3c573a2d5e14203d3b2b11d89657b388e87e7c97c408a1f7ff25502110b4c8022d247333cd8dd8c56522d1a66cc6d1a716ba68e1e7a7d2fa404a08390e002860f12e60900ab1e7b63decc2b6ebd7fc1bca9f77caeb12aeac4134c2c32f03c89100221c673397e2f1415353d88df8882ea035b61e36b26af38cbe93f3e8a5f9a4c6d9c73d6982f3a63a463d776bcb124047da002190732690de09a0dbd5302c5d1ef5684b4af3555119c5404ae80c1ac9f78224bf1842076ce01048a02def8540b99435a593066e031859ed75fe2b0db889db3515078afd7a2a2c4a379e5aae59a2ff448fb5f7f711b66f77b9096400a30d56fb40edd555e1c797879bdef731735a04743603a90cd414ed3c98ea6a90c1b78528c479fef27a1088474891dde8b30fcf4eddb4722349d298d6773a4ab9f6319038164206691b35cce6d6aacca45e79fd77f785b0bd9780fe000a8cddfbb77eb75d3b56063042c015907722e382eb808c64c8f887008050d3ccf1b4fbf4020d05485f6b6ed1c786b1f055397a2974d22a07b4443923d9d63a4bc10aa66104bea24d392a685d3cabcf225170eb5bfd1e665068f03a8b3aebafd86da326342951f72325f999c0b392f7fb5848e934c51153690888fb4ab40c926289bbd9860b41e4db8484f50132d24a8b8ec3eeec3510220613066d1379065f182fa126a565c32d4ddf12f3771a44beddedeb27fa46a5173a4363aa12e0052423a07f678167208c6b29272cd2118349052e61b50809492c2da6914149762e80a81801f7fc087ee3398d95044efb118eff46b482fbf7668c8e2606792e625b5057ad5d24bfbdedef2aa9a1d1d3c7264db869dc3650b9715d6d4963414802220697f508a343a229ba63a6ce0caf111fccfde223d90f9d240fe9de7490c9fceb40a8d37df1da16fcc4736ebe02a2acd0b8ab8755511c99ceedff1ca0b07150073a4afadf56757ddfcec96f6e15dc310d0206c8023c1f5400ac1514b23635a689a3a9e8113c75251043e5d2314d49950e8c36fa84cae0db37286876d65a9a80c71dfed353c7e4b19ef8f2a6c7d2b862693b9138a1aac9e7ad18a9ffce9d16b56cdab39bb1812261c1dcb37a665b92c0a8d71564d989c235104288a002911485cc72591b68827b21c8b6538d893e2406f161341ed9472ae5851432c0ebf7f69984d2fb6f4c5773ef4f75cffce073fda556891caa6653ffce3dad557364f9b5f0a691b3a472061c34437c9e50d02455519cbd88c244d0613164787b2740dd9f4c61d8e0c3a0c8c2914840b689a1be682f961843058bf23c586175ae3bddb1fdae01eddf424f983cafc2f0000f4c8ec4577ae5d77f5eacbce595809660eda8721654aeae408a3299baebe11fa9290cea9988e4eca52316d8d4838c0bc194116ce3450807fecced1d2f2cfd4e12d0f6fb6daffb60edcad40f283393aa58cc9677f7bcddaabafbf7e59530dd84e1ee2fd0424532e76da22e78065494c5b1234142657fb9859a7a129b0a7dd6373eb5efbe0a647b7a7f63fbd8e5cfa1520f6512f1f030040e5f4eb7ef5f09537ddf1c56593f213f16e0cba075cccac8b6dbb047441b444a3a2544357a1ab0f76b4b57b6f6f7cfccde1b7d63e4176f805a0ef540e4e7a1a7e48c9d8be4d1b8fc69d2a5fc3b239f5250ae100f96d594255a94e69a98edfaf3010876d6dc7687962cdfe779eb9edfe4cc74b77e364377f38ddff0f0080397a68c7a6aede5891a86b5e503751677eb5a028a4d01117a43370f0509ccdcf3ed5b96bdd6d6b46f73e7d97b446d70323ff83ed4f24bd64c13577af7e3ae6b51e97f2377ba4bcfcb17e79d60d4ff504eb9b1e00cee334ffe69f4c22327be5f7cfbff76072f68d4ff604aacfb907580c04ceb4e31320508d66a009f07d5a63ff06202f6d510da64ef20000000049454e44ae426082),
(3, 'magcard', 'CB', '', 0, b'1', b'0', 4, 0x89504e470d0a1a0a0000000d4948445200000020000000200806000000737a7af4000000097048597300000b1300000b1301009a9c180000000467414d410000b18e7cfb5193000000206348524d00007a25000080830000f9ff000080e9000075300000ea6000003a980000176f925fc546000009774944415478da62fcffff3f437e7efe45454579d5bf7f7efd65f8cfc000126300311818a13488fa87c46702928c0c08f01f95f59f0153ee3fd444a0b67fff19191e3f797a75ead4a9160001c4c2001664662fc88de164f8fe02a80a64301bc4c29f9fc19631fcfd0514e203d2bf191898d981e21f18187e7f83984606f82ba0c99053d6c205620304100bdc997f7f3030bcdd0db44f8a81e1db2b0686473b1918c4ec191844ad18181eec60609000d29f1e31307cbc037400d0f2b33318185848b41912780cff531e801c0f0e1a8000624191fd769781e1cf6b88ef444c1818bebf6160b8b701e87b610686ebcb191878a51918587918185e5c8458ce4ca20b40a1cac4008d4a08000820a809400936a0e1b219c0f0f9078986ffcc40877c053ae827d0220e06066960683003a3868999e1bfbc3b906e63802495ff0cffe171ff0fc2fe0731139694fec154000598999818183945608a18000208c90b40268f1e51a10875321830413148fcf73fb01d700c560f7220346582d87f81e9868df12fdc3c8000628129222a04a10681d21e33d419bf7ffe66b8f5f21f03072b038382180bc39fdfffe1be437205c40e20fe07a23938e06602041049910849f4ff193e7dfec970eaf64f865d37ff319c7acacc70e6351b033fcb3f869de97f1874a49919beff02c522305c80c1fd1fe498bf7f20210072f2bf7f28660204100bb1c9f7cdbb9f0cc7ae7f61d877eb0fc389672c0ccffe70317c6505fa849d89e18f2003c3b357ff18369c7dcba0232700f42130ab7ef9cec0f01998ad59d819fef3080003e51fd872f4d00608209c0ef8f3fb0fc3ada73f80967e65b8f0f41fc3f5b7cc0cdfd8b81998b83918d8e599192480d1f80e9859debc6760f8f516e435268663c0dcf5fee22906feb7c05cf2f61003e3f7330cff59a518be994f056663356071f20598869951ec0108201407fc03e6800b77bf301cbafa8de1d2f3ff0cefffb231700af033f088b03268012dfd062c87de0033c63b6091f119e8c1174f1918be7e82460fd0d34f3eb131bc3a5cc72028759981810ba898eb0b03e38f670c3f6f6c62f82b5cccc0028c4326262614070004108a030ae6bd6478f3878d414d4188c1c4948d810968e847607cbe015af80958287e06fa18e4882f40fee34750cba1d98003e8b17fdcfc0ca704ad19d445ae3330bc0666df57c060e26403c6d205860fefdf30b009f201d3116ae90910404cb0c4f507a8f6ec632686782f6106536d360666e63f0c1f9e3d6260bcb19b41f4da72861f9fdf317c07a69fef40073c7c0cb4fc23c27260d1c0c00f4c0e3c9c0c0c57bf5932fc79002caa1f015df71be43f56064ec6fb0c0c1f1e32fc6762013b00d9110001c404cb2d2c404394451919cedcfbcff0ebd6410685078b19fcd8f630a4eabf6648563dc720f8642bc317a0dae7c082f2fd3b06483e6484605016047a94810d68da2b466386474f84208e032546a0a5cc9cdf18d8df9e65f8fb9f1923ad0104104a8458abb0301cbff89a41e1f30106770b5e061575a0e3beed6160feb8954197fd30c347a0a79ebf422a91fe40b000b05a31956360c8b466607037146538ffcf065c9f31b0015dc60a6430ff67e0fc778de1efe74f188910208050d280ab1e07c3ac93ff18eec9f033283f980df601c7bf270c5cf23f196cd98f30b49f7dc9f0fd8338d8d7c09cc560a90cb4509381c144f22f831ccf2f86afc0ac272022c47050ce0758916e60606701fa0f84ffff64e060b9c5f0e52330ee4474511c001040280e5092e66050e0ffcc70e8bd018397f434064e1e1e86d7bfbe319c7da1cab0e5a92bc38f5f820c01e6104b4da5ff30b000eb8a5b0fde31dcbdfe8f61fd83ef0c1f7e303184b8f231b049e8307cfac0c220ca06f4ad00b08e91736360f9f98a81f5f15e867faa46a0421b6e274000a195037f186ce4bf33acb86dc0b0f2752ac3c7a7ec0c0ffe3b31f00a2a3318587232a4faff67f8f8f61dc38d07ef19969ffbca2026ccc570fde96f061f2b29061f056050ff7ccff0e2f17906a95f871844ac731818f88096716b004b42605b42e42d03fb93950cffbe00532f2f37dc4680004271c09f5f7f18ec359918d6dff8cdc0ac5cca600dacb4128135311f54d5abf73f19569c790fac0158188c74e51854249919ac34df33bc7b729ae1efeb570cc23c8c0c462ac20c027f7519185f0013cc5560eaff788a81e107b0f00849636013d263f8f20998887815e1760204108a03fefe63645090e46408577fc910a222c4c0c98e9a60f8f938182c75048171f99a81fdf76d860ff73e30880bb23068abf03008fc116560bc7d0dd878b90932095828000b106d4ba0eb8171c6cccaf0efe50386cf9f8195971c178a99000184521bfe0352023cac0cc202ac0c2f8165bf822417c3b79fff185e7df8c570f3ce1b861ff70f30f0cb8a30e849f0304848a83070f24b027501b3da0360c173682d306a81c5a3a619b0eda0042c30be30fcf9f481e1fbdbd70cdffefe65f80954fb5fd59041885f10a5350910402ca8b51d23b8c168a8c2c770f4f26b864b7798183e7ffd06d4f0974186f33783f9ef750c02963dc0eca5849a74a480416a086cb2b17031fc045af8f5fa15866fac9c0c7f8424189844d418d804841978595818589919195859e0a10a760740006138e0cfdfff0ccad2dc0c9cc0eaf5e5ebb70cba326cc034c3cec0c4c9cfc0f9c319520a892b41aad8cf6f19fe3f7dc0f0f3f5336011fd87e127c74f86ff628a0c2b4eed021ac6042cf71fa2b60740e517b01cf8f9f327a86604d7cb000184e100705a003a42528c87415c98131c2d4c8ccc0c8c6c6c0c8ceace0cffae9e63f8f7e803c38f8fef197e022bafdf02620c8cb25a0c2c22520cbcc086063b33d062e6bd0c4989890c9c9c9c28d52f1bd08cb76fdf32d4d5d5bd9c356b56f0cc99331900020867750c721f23a8188535ab7eff62f82fa3caf09b0dd87a07c62d83ac26b0721163e006d66e4c8ca05e0250cd3f686be8ff7f78990fc3209f7ffcf891a1bebefee5b469d3ec80c6de05d9031040584300b325c408abaf1958c46519788198f13fc4b2ffffffc23b1dc86a7ffdfa05af7a4121f1e6cd1b64cb6fc1cc06082026d27b157f1818fffd855afe1fab6341e27ffefc813be2e5cb97582d0701800042090126701bee3f096d44cc1083f9faf7efdf609f83e2bcbdbd1dabe5200010402c0c3402acacac0c8f1f3f66005afc0a88edb1590e020001c4829c27999999a962390b30cf5fbb76edcfb265cb9ecd9933c71597e5200010408ca020cfc9c9b92c2323a305cc9a7f29b51c142ddfbe7d6378f1e2c563a0e5c07298e10dee7ec67f068000023b00a809d88461d080b673fe53ea064865c0700388dfe1efe8fc67000830004be76fba08a0a0880000000049454e44ae426082),
(4, 'paperin', 'Coupon', '', 0, b'1', b'0', 1, 0x89504e470d0a1a0a0000000d4948445200000020000000200806000000737a7af4000000097048597300000b1300000b1301009a9c180000000467414d410000b18e7cfb5193000000206348524d00007a25000080830000f9ff000080e9000075300000ea6000003a980000176f925fc54600000a2a4944415478da62f8ffff3fc34062800062186807000410c3afeba90cff1f5431fcbf5bcef0ff5e0502dfafc4c42075c8f8613532e6fdffa2d6e2ffe3da96ff4febb7fe7fd366fbffc724a0253319feff02e2ef50fc652ec3ff1f4b19be7edb0cc6000144a9031881d8ecffe39ada3f4fea8e5d3d56fbe9efbbf6ffff3f76feffffa9e7e5ff9f93bdffffc3ef00800022c7013c406c01b4b8feff93bae3ff5f34fdf9ffa6f5ffffafddfff7ed6efdbf775f073064a7feffff67faffffff667c023ac0059f0300028814071803d5550283f8e8ffe78d9ffebf6ef9ffff03d0b2cf3dffff7febffffffef64a085d3ff1f3edaf7ffc0c1deff7ffece02f267021d32f31ed001aab81c001040f81cc005c42640b9eaff8f6a8e002dfdf1ff35d0a7ef3bc196fefedcffffcfaf49404ba6817cfaffed3b20fd7f36181f38d4fb7fcbd66e08ff2fd0113f671e075a2ef8ff1ba6030002089b038c811657002d3dfcff59c387ffaf803e7d0b8a57a0815f813efd01b1f4c3fb69ff77ede9f97fefded4ff8f9e4cfddfd1d3f8ffe0e15ea82366fd7ff776faff13c7fafebf7f0374d84f60687c9bb9f6ff97993ce80e000820863f375241716a0cb4b81218af8781f1fafdffcb6688a51fba20967e075afa6b0ad037205fce005bf0ead5f4ff0b9774fcaf6d6cf8fffaf5f4ff478ff5ffefee6bfe7febd694ffe7cf4c003be4c98329ffbfbc03a685efc050f80ac49f67ee003a400ad9010001c4f0f2547aefffd74d1fc096be698358fa19e893ef13ffffff0db4f4ff74a8a533c116ff03e22f9fa7ff5fb2b4e3ffb6edddff1f3d9cfaffe4c989ff1f3f9af17ff3a69eff9327b7fcbf711d981efecc86f81c6c3190fe3207c89e07c40baefdffb5c2f3c7af5d4cdf7eed6100082086030bd26a7fbc065afabd0f184c4097ff9c0cb574d6ffd7c0e07bf16a1a98fde9c3f4ff2f9e4efd7fe4481fd8d2fbf7a6fc3f01645fbe38f1ffdb37f3feaf5ad9ffffe8a149ff7f7e9b0b8c2620fe3a0761e9f70540b31703437105d0accdfffffc5cf5ebd1ed5efb8f0fab18000288e1f29e3ae74bbb2a7fffff3f0f1ac4b3fedfbb3fe5ffacb96dff2f5f9ef8ffee5d5028ccfdfff2f9d4ff7b77f7fc3fb0b7f7ff995313c0ece347faff1f39d0fbfff78f65ff7f7e5ff1ffeb07a0253f17432cfb0ec43f9600f940fc6735d08cadc044bbf6ff9b1b85ff1fefd4f87f63356bd693b50c0c0001c4707c7fa3e6e6dee877af1fcc005b048abbf98bdafecf99d7f67fde82f6ff6d9d4dff9f027dfe0d1894a74ef4ffdf064cdde780717c05e4f36753c1c1fcefeb7a20bd11e84310bd0e48af05461fd0d2bf40feff9d401faffbfffe4ec1ff875b55fe5d99cff0fbd81486ff6b6ad94ecc2fe4e001082086e9535385db729c761e5f5e04f4c95270de7dfd62daff4fc0c4f3e1c38cff93a7b4fe9f32a5e5ff72609c2f5ed4feffe31b60543c005afc6b0e2498bf0283f7d72ea085fb807827d0b73b8096ee01e28340f6e6ff9fef17fd7fb84df5dfc9290c7f373530fe999dc7f1a73f89fb7f7f32cf9149e97c3c0001c4b06c69017f7c9469ccb246ff0f774f00d3c17f6090fd0286c62f60c2f90df4dd9f59ff0fef07c6f5b909403630617d07c5f17ca0c50b21410c0cfeff7f0e037d7b0aa8f71c109fffffefc786ff1f6f64fcbfb146f1ff8e5686fff3f399ff4d4ce101e1ffd332b9fe4fcde0f83f334f60dfc20a192e800062b87d632a674191bb6e59bae5dc5d5312ff7f7e01f4d16fa0cf3ecf00651ba045b3fefffe32fbffa7d7408bbf2d023a00642930a47e2e073a7215d0626090ffbf0ec48ffefffbb2eeffcb3391ff4fcc16ffbfbc94e1ffd434ceff13d384819609ff5f5822f07f7e91c0ff19397cff2703c567e509ed5b5026c50110400caf5f2e64eced89938a0837f29b5aee79edecdaa2ff7fbf032df83a1b9a6da03efdbd1c6a293025ff81c4edffff07c0ec6fcf7affdfdae6f17f5b3bd067998cff2724f3fe9f9623f67f7199c4ffe555e2ff179589031d21f67f4a86f0ff892902ff27a708fdcff313d910eea1cc0610400c972f4e60983523833b21c14e2f2dd6a27e634fd4df87679a8086037df60394928196fe5e09f4e906a8a5fbc171fbf365efffa727c3fe1f9925f77f4909e3ff4949acff27a40afd9f5520f57f49a5ecffa5d50affe79528fc9f962dfb7f52bac4ffbe2491ff5d49e23f6a62e5cf46782a4e1212e0f4f0f1b3e304080081007eff00b5b47c009a9968036b69481e535434428c764ebfc19b5dfff6e891ffffffb8ffffffb9fffeffbefffdf6aefff8e787ffe8c94effcea31effae7d02ff966602ff8d600cff916715ff9a701bff9f7720ff9f7625ff997125ff93691fff906418ff8a6017fb83601de0766127ac645c2f7845462b5021221a3b050604272b2b2508020081007eff006d6c4b006f6e4c006664450e60603f2f655e3970ae8d62f3d4b159fffdf299fff6e588ffedcc48ffd9ac1bffbc8a00ff9f6e00ff90620bff8e6315ff92691aff987020ff9c7425ff9c7327ff976e23ff91651bff8d6115ff856019ec7c6323c26f652e8a5f5d31634d4e2f4c3e3e284232312030322f21181b191105131210000288c1cfd794c1d7c794c1c3dd903521ce413e2ccccca1a73260e3fed939ffef6c52fd7f065881ad06d65553d2d880c1c8ff7f429ae8ff29d952ff67e6cbff9f55acf67f463ed0b719b2ff7b12c5feb7c7897da94f903f5f9aa2352733c5383f26c624ccdb47cfd3da5add465f5f415353435a544f4f81c5cc4c95415e4e9841544488012080188404791804f8b919e4644598808ee00b0e32d74d8cb148de392bffc3fa0e8fff7d09ccc0a014f83f354b0898b0448116832c9703c6ad1c304149fcef8c17fddf18277daf3c4973755e9a51654a92794444a4a98f9faf81b393bdb6998181a292acaca8103717071b2f2f0703d0010c26262a40fb200e0008200638606464949717637376d693f1f537309bd010be7cfba488ff9353d9fe4fcfe2035a08744096e8ffc9e962c09010fbdf122ff9a2225e79574ea24113d0d2c8e81873373f3f235b7b7b4d63333315552d2d19312929216e4e4e3616a0e1602bb0390020801890013b3b2b9386ba34afb3b38e5a6a925dc48689912fa767f0fc9f94062ab904ff7726887fab8d573c5590a0332525c12c3122c2cccdc7d7c8dac549c7d4dc5455435d5d5a4a5c5c809f9f9f8b83858599859111ec2f062626262066c4ea0080006240034c4045acda5ab2e2ce2eba9a8d052e5326a549fe6c8893bd5e9aa0372f33d13c233ac6d23d20d0d4dac949c7c8c84849434d555246465a58888f978b8b95958515640603d4cb204b2196e376004000316001404770726a68c8cab83b693924479a64c5c5d8b986865a9bb9baea1b9999aaea686ac8284a4b0b8b0a0870f3b1b1b1b0037d09b298196631dc20221c001040d81c00328405e8087ea02552daba8ad22626aa8ada5a720a3232c2927c4071a0a59cc09045f62d23bae5c43a00208018700026a0afd8585999f9f8f83805050579f8b8b839b88006b1417dca8c1cd4380d21c2010001844b2f23d402600a666045b39011490d03a50e00082042663062b19868408c03000268c03ba7000134e00e000830008a0588d3748138ff0000000049454e44ae426082),
(5, 'credit_note', 'Avoir', 'Ce ticket donne un avoir de                       ', 0, b'1', b'0', 3, 0x89504e470d0a1a0a0000000d4948445200000020000000200806000000737a7af4000000097048597300000b1300000b1301009a9c180000000467414d410000b18e7cfb5193000000206348524d00007a25000080830000f9ff000080e9000075300000ea6000003a980000176f925fc54600000a2a4944415478da62f8ffff3fc34062800062186807000410c3afeba90cff1f5431fcbf5bcef0ff5e0502dfafc4c42075c8f8613532e6fdffa2d6e2ffe3da96ff4febb7fe7fd366fbffc724a0253319feff02e2ef50fc652ec3ff1f4b19be7edb0cc6000144a9031881d8ecffe39ada3f4fea8e5d3d56fbe9efbbf6ffff3f76feffffa9e7e5ff9f93bdffffc3ef00800022c7013c406c01b4b8feff93bae3ff5f34fdf9ffa6f5ffffafddfff7ed6efdbf775f073064a7feffff67faffffff667c023ac0059f0300028814071803d5550283f8e8ffe78d9ffebf6ef9ffff03d0b2cf3dffff7febffffffef64a085d3ff1f3edaf7ffc0c1deff7ffece02f267021d32f31ed001aab81c001040f81cc005c42640b9eaff8f6a8e002dfdf1ff35d0a7ef3bc196fefedcffffcfaf49404ba6817cfaffed3b20fd7f36181f38d4fb7fcbd66e08ff2fd0113f671e075a2ef8ff1ba6030002089b038c811657002d3dfcff59c387ffaf803e7d0b8a57a0815f813efd01b1f4c3fb69ff77ede9f97fefded4ff8f9e4cfddfd1d3f8ffe0e15ea82366fd7ff776faff13c7fafebf7f0374d84f60687c9bb9f6ff97993ce80e000820863f375241716a0cb4b81218af8781f1fafdffcb6688a51fba20967e075afa6b0ad037205fce005bf0ead5f4ff0b9774fcaf6d6cf8fffaf5f4ff478ff5ffefee6bfe7febd694ffe7cf4c003be4c98329ffbfbc03a685efc050f80ac49f67ee003a400ad9010001c4f0f2547aefffd74d1fc096be698358fa19e893ef13ffffff0db4f4ff74a8a533c116ff03e22f9fa7ff5fb2b4e3ffb6edddff1f3d9cfaffe4c989ff1f3f9af17ff3a69eff9327b7fcbf711d981efecc86f81c6c3190fe3207c89e07c40baefdffb5c2f3c7af5d4cdf7eed6100082086030bd26a7fbc065afabd0f184c4097ff9c0cb574d6ffd7c0e07bf16a1a98fde9c3f4ff2f9e4efd7fe4481fd8d2fbf7a6fc3f01645fbe38f1ffdb37f3feaf5ad9ffffe8a149ff7f7e9b0b8c2620fe3a0761e9f70540b31703437105d0accdfffffc5cf5ebd1ed5efb8f0fab18000288e1f29e3ae74bbb2a7fffff3f0f1ac4b3fedfbb3fe5ffacb96dff2f5f9ef8ffee5d5028ccfdfff2f9d4ff7b77f7fc3fb0b7f7ff995313c0ece347faff1f39d0fbfff78f65ff7f7e5ff1ffeb07a0253f17432cfb0ec43f9600f940fc6735d08cadc044bbf6ff9b1b85ff1fefd4f87f63356bd693b50c0c0001c4707c7fa3e6e6dee877af1fcc005b048abbf98bdafecf99d7f67fde82f6ff6d9d4dff9f027dfe0d1894a74ef4ffdf064cdde780717c05e4f36753c1c1fcefeb7a20bd11e84310bd0e48af05461fd0d2bf40feff9d401faffbfffe4ec1ff875b55fe5d99cff0fbd81486ff6b6ad94ecc2fe4e001082086e9535385db729c761e5f5e04f4c95270de7dfd62daff4fc0c4f3e1c38cff93a7b4fe9f32a5e5ff72609c2f5ed4feffe31b60543c005afc6b0e2498bf0283f7d72ea085fb807827d0b73b8096ee01e28340f6e6ff9fef17fd7fb84df5dfc9290c7f373530fe999dc7f1a73f89fb7f7f32cf9149e97c3c0001c4b06c69017f7c9469ccb246ff0f774f00d3c17f6090fd0286c62f60c2f90df4dd9f59ff0fef07c6f5b909403630617d07c5f17ca0c50b21410c0cfeff7f0e037d7b0aa8f71c109fffffefc786ff1f6f64fcbfb146f1ff8e5686fff3f399ff4d4ce101e1ffd332b9fe4fcde0f83f334f60dfc20a192e800062b87d632a674191bb6e59bae5dc5d5312ff7f7e01f4d16fa0cf3ecf00651ba045b3fefffe32fbffa7d7408bbf2d023a00642930a47e2e073a7215d0626090ffbf0ec48ffefffbb2eeffcb3391ff4fcc16ffbfbc94e1ffd434ceff13d384819609ff5f5822f07f7e91c0ff19397cff2703c567e509ed5b5026c50110400caf5f2e64eced89938a0837f29b5aee79edecdaa2ff7fbf032df83a1b9a6da03efdbd1c6a293025ff81c4edffff07c0ec6fcf7affdfdae6f17f5b3bd067998cff2724f3fe9f9623f67f7199c4ffe555e2ff179589031d21f67f4a86f0ff892902ff27a708fdcff313d910eea1cc0610400c972f4e60983523833b21c14e2f2dd6a27e634fd4df87679a8086037df60394928196fe5e09f4e906a8a5fbc171fbf365efffa727c3fe1f9925f77f4909e3ff4949acff27a40afd9f5520f57f49a5ecffa5d50affe79528fc9f962dfb7f52bac4ffbe2491ff5d49e23f6a62e5cf46782a4e1212e0f4f0f1b3e304080081007eff00b5b47c009a9968036b69481e535434428c764ebfc19b5dfff6e891ffffffb8ffffffb9fffeffbefffdf6aefff8e787ffe8c94effcea31effae7d02ff966602ff8d600cff916715ff9a701bff9f7720ff9f7625ff997125ff93691fff906418ff8a6017fb83601de0766127ac645c2f7845462b5021221a3b050604272b2b2508020081007eff006d6c4b006f6e4c006664450e60603f2f655e3970ae8d62f3d4b159fffdf299fff6e588ffedcc48ffd9ac1bffbc8a00ff9f6e00ff90620bff8e6315ff92691aff987020ff9c7425ff9c7327ff976e23ff91651bff8d6115ff856019ec7c6323c26f652e8a5f5d31634d4e2f4c3e3e284232312030322f21181b191105131210000288c1cfd794c1d7c794c1c3dd903521ce413e2ccccca1a73260e3fed939ffef6c52fd7f065881ad06d65553d2d880c1c8ff7f429ae8ff29d952ff67e6cbff9f55acf67f463ed0b719b2ff7b12c5feb7c7897da94f903f5f9aa2352733c5383f26c624ccdb47cfd3da5add465f5f415353435a544f4f81c5cc4c95415e4e9841544488012080188404791804f8b919e4644598808ee00b0e32d74d8cb148de392bffc3fa0e8fff7d09ccc0a014f83f354b0898b0448116832c9703c6ad1c304149fcef8c17fddf18277daf3c4973755e9a51654a92794444a4a98f9faf81b393bdb6998181a292acaca8103717071b2f2f0703d0010c26262a40fb200e0008200638606464949717637376d693f1f537309bd010be7cfba488ff9353d9fe4fcfe2035a08744096e8ffc9e962c09010fbdf122ff9a2225e79574ea24113d0d2c8e81873373f3f235b7b7b4d63333315552d2d19312929216e4e4e3616a0e1602bb0390020801890013b3b2b9386ba34afb3b38e5a6a925dc48689912fa767f0fc9f94062ab904ff7726887fab8d573c5590a0332525c12c3122c2cccdc7d7c8dac549c7d4dc5455435d5d5a4a5c5c809f9f9f8b83858599859111ec2f062626262066c4ea0080006240034c4045acda5ab2e2ce2eba9a8d052e5326a549fe6c8893bd5e9aa0372f33d13c233ac6d23d20d0d4dac949c7c8c84849434d555246465a58888f978b8b95958515640603d4cb204b2196e376004000316001404770726a68c8cab83b693924479a64c5c5d8b986865a9bb9baea1b9999aaea686ac8284a4b0b8b0a0870f3b1b1b1b0037d09b298196631dc20221c001040d81c00328405e8087ea02552daba8ad22626aa8ada5a720a3232c2927c4071a0a59cc09045f62d23bae5c43a00208018700026a0afd8585999f9f8f83805050579f8b8b839b88006b1417dca8c1cd4380d21c2010001844b2f23d402600a666045b39011490d03a50e00082042663062b19868408c03000268c03ba7000134e00e000830008a0588d3748138ff0000000049454e44ae426082),
(6, 'prepaid', 'Pré-payé', '', 5, b'1', b'1', 99, NULL),
(8, 'free', 'Offert', '', 0, b'1', b'0', 8, 0x89504e470d0a1a0a0000000d4948445200000020000000200806000000737a7af40000000467414d410000afc837058ae9000009e349444154789ca5976b6c1cd775c77f73676667f64d2e97225724c59744599225eb61497164cb491ac38d93a60d1a034d8316a89bb6418106358aa275d1a241fba5409b228551c048007f4802232a9a348ee35a901045ae253a36255b6ff129520fbe97bbe4eeeccefbde7e58d969fc82d01c6080997330f7ffbfe7dc73efff6adc837de340e1d0605be25f04da41279252296afff8d6da93934e74e65efeff28333e2c70a4cbdcf5e73b0b4f8dae784bfdf9c4d36facf889576e37be77a7119db10d915a75a3c6af0a0ea07d58e01b878a2703c9a70732263f5ff62effdbf5ea5fedb3edf54ff524776b49755f21ad0decec30d302a9e2486dcc55e2db33e5f8d26c3338f3f28a3f07c85f8540db6ff5a7fff947371bcf7fa927fbe5435df6e7b3dd5165ffe1687bd71ecfcef647d85d0a696a486512362d821583f569b873de6d4e5e082fbe319538f69fb7ddefd6a0f2ffca40017a3ebf25f7952f3d2efe6cdf17dd8ece07815c1a8c223002ec018681cdc0265ad55c0766882a97597ef524fff3bdc9b9ef9c165f3f5ef1be03a87bc908004f0d64b7bff058f1ece2f7d34a55b24a85db95f28e2ae5ffbe52d1f34ac9b79492734ac925a5645929b5ae946aaa5fb63515d79f5193ff9e51cfecc8bed09ad3fb4d7fafe39b7b3b0e7e62aff1f2a79f69ec2a3c9205d507510ec40ed08f82d60b04a03541f3000fb4081936285f3e8b95cb234c1348a1251ea3e3a0cede1dffbdbb34d3f6c8b9dbde7117ea1f4a60d834777df988fdd227ffb2d69b1ab6c14b82f0213504898f83d240358108254364e0220c4083c6c24d4efde953341667e979f8289a5077b37e84d4e03c3b778cf5d997f3874fce7b2f02ee0711c83cfba9c27ffcfad3b55da9fe10bc182c1fbfaab3f2760fb1e7611725108316133a3536a66f922a155a84e280d9574eb13c368aa685743d7818f08104a8cd587d65b6754d6d71cf25bac62ac18bef23f08783f9bff9ca9f44bf57d8ef82af811d53198757ffc164f247f3dc7865026f799dd2e13c9a29f1ab1b2c9f9ba663f766887c8c7492dadc3c6b57a77157171878ec28462a054a413c01d2203d92a0549ddb7bfe9c985808a32bef12e8b5d8fa779fc97c7bcf176a4914a02bbc4a820bdfefa37d6b1f23bf51a47440a7b1b441d4f468db6a71e3c7d70049f1814e887cd025d99e2e16cf5ca2b150a6f7d17da44adda05c085f035501ad9fc2e632c1d8fad6e3b7821780400778724bfee9dffd9df0f1f4800f5287e43091789c9e473fc796cffd26edbbff98c2fd797a0f5dc3ce2a82f53a2a8ee87b7433420b418610fb589d39dab76dc1ca65d8fcd06ecc6c0682b7403f4ffdc60641d92335d24b6a61b6fb8d37fceb4ba1bca403d6d70e64fff5f0679c4d2221c16803fb3e8cf64e8c620a5402e9aca26a2fa3c533186981999664872c042d6008418510b9a4fb8a948eecc1b46d08ae813849f9fc2a2b172a74efcfa1255258b1cbd46babda58253c66dc9732778d0ccaed4632860830ea202f222b0b2c8d76b0723d20999fa1ffc806766716e21844124217b4248834883a883c8836f03cd074d06e4134ceec4b4d96df0ed9f7475b1086034e4c76b0c8fefed4c7986af61b43697b4f57a7344181064a46dc3eed70fd84c4af2f71f0a91aa5fd121240586bf5be48de054f8274413820d641cc81e180ace2dc08b8fc8249e8280e7dad032bef423302cd43b74d7a7bd39b4a7a79c448180c256d093a34570cae9cceb23c9dc0af0b8409ce6a4463d527d511a12525243c901e5003cd005d8000c290d88958b926b8339662f55a9acd0f781cfcaa85916c80130236683ea82499764bb45be6a0a16998ba50044b3ab7c793f4ed7639f0c52a8d9acefc950477de144c9d4862b741ba5391d9244915631219059a868ca0599154e674aab37944d847ecda6c3a7c95bd5ff5a0618163b7c0950fca022d4017319aa6528604c286202114db0ed511ed26e43e4e6e7088dc21c10eb78ebbb641f5669dfafc3a8d6587fab24fec792819b23c9127690d33b8e341f21d4d4addfd643319cebcdee4c6f1eb0c3dec40e083f240da8005d227740214423350aaee6ce8804444801a82f45110192003d93cc9824d72870986d16a39bf026115d404333f38c6f87f390cf60ea1571b54a726303a3b3990d8c5e8776b24cc457af7f8e046ef6640f93ef5359350530dbd688bd2e1cee493fdfd4d340b485860175bb5c26fd55b8610290805a83c1803601f84f413b497ce716b6c8ce615971e69e2cfdf215e58205b73c8af45bc3da3280c05a4f231780ae290c682e2c26b89f8d84ced39dd8f23f7e142f60fb69442cbcec7a03960d96058b4fa320615b77a5d06ad7e573ec806280dcd4ea1d54f30f77accf0aa87bd56c15d5cc05e5d21bdb84ab8113319a619dce9a1c580522c5e4c72ea4d71fbc452f359bd1153dd99b53e3994d5878bdd5e4b5768eb90c880d0ee92902d122a6a7dabf8ae2f00d189a55e6566b446d7c43aa985658c6a15ea75b43020eb858c5b59729b2372c51059138c9fcef3c36bdea9f17af0bc007875d53976f3561267d16c1d94cd063897205c82a8024119c272eb3dac40b4065119c215880292c5ed647a5daa9e036e13239b45b4b783aea32b858ac129eb2061e1aacde4ac90a36b8d9f009e0e70b311cfdc9fb59f28607577777b606a6078a06f809e681d972a047977f64ade7d22d00c346d89f2c435c28b26a52ddb61641b747480d3e45632e24e7f9afbf7d73102c5959f15f8c1943b3a5af6fe09a8bf731cfbab7e58d99dca3f690b457ba70fba06a6df2a87a603e2172578a724dc25428dc6dc25aae369fa3ff66b502a81eb535999e3f5fe345bf7bb0c0eb85c3addced894683e3759fdba27d5d95fd203cb9ebcaa41778fcc3d680949be1080a6811181566df5315a4bc6aa77d6410c311036a07a91e98b097a6fd6312b556ede1ee7cd6ec9c0a1807df76f70f5cd3ce393699e9d58fbf65c237ab6b5aadf23c9aeae076773a6b1bbe06647341f0ab9e01741d9dae35b7a50b47c111009589b20e94e333f9f6266a9c22d7f81b511c9be879a6c2d35b878ae9da9e934df9aaebe38bae2fd2d50fe204906e09d5bf37e9a10da488797db5e5f35c9ea11968821a025d39a35a897c1d900a706951bb07215cd8d286d0a68ef97f43f10b173a84950179c7fabc0cc82c57313951f9e5a72ff1ab8f17f01dfa78a81c6858a7fbc1c8456a74aefaf2d668ce69a8ee12912be42040adc186a0ed4cab0b1d6dae57c302289ad24f58ac1f8788ec9e91c1756e2da37af579e3bb716fc3d30fb5eb00fbd98007a47427fe2b707327ff15031f948574a88545a926ff3c9e6226c3bc634244a4118089a0d835acda4564be078823b4e149c5cac9f3d7ea7f92d4ff212f08177c98f22f08eb5176df1f8c182fdd9fbda127b8733d6703ea1272d0374ad75d989a4861741d98f9c890dffc6d575eff2db6bfe89a6e4a7c0fc470d7e2f04decd08d063c1f6cea4b1ad2da1f5e81a3640a0f0cb5e3c5ff1e56c0c5377419bf732e8ff02c40fe62eb6f2dac00000000049454e44ae426082),
(9, 'internet', 'Internet', '', 0, b'1', b'0', 6, 0x89504e470d0a1a0a0000000d4948445200000020000000200806000000737a7af4000000867a5458745261772070726f66696c6520747970652065786966000078da758ecb0dc3300c43ef9a2223e867ca1aa70812201b74fcca70129ffa0e14410894e8f85e276d0361256fd19100179e9efa29d37962cca22c63964eee69524e574ca6d3207bb0af45bff38766e838c323d0b063d76ad7c3c4b4b40ed168e5f146ae92b7c3fee4cf173f3fb62c1190114a2b000009e969545874584d4c3a636f6d2e61646f62652e786d7000000000003c3f787061636b657420626567696e3d22efbbbf222069643d2257354d304d7043656869487a7265537a4e54637a6b633964223f3e0a3c783a786d706d65746120786d6c6e733a783d2261646f62653a6e733a6d6574612f2220783a786d70746b3d22584d5020436f726520342e342e302d4578697632223e0a203c7264663a52444620786d6c6e733a7264663d22687474703a2f2f7777772e77332e6f72672f313939392f30322f32322d7264662d73796e7461782d6e7323223e0a20203c7264663a4465736372697074696f6e207264663a61626f75743d22220a20202020786d6c6e733a657869663d22687474703a2f2f6e732e61646f62652e636f6d2f657869662f312e302f220a20202020786d6c6e733a746966663d22687474703a2f2f6e732e61646f62652e636f6d2f746966662f312e302f220a202020657869663a506978656c5844696d656e73696f6e3d223332220a202020657869663a506978656c5944696d656e73696f6e3d223332220a202020746966663a496d61676557696474683d2231220a202020746966663a496d6167654865696768743d223332222f3e0a203c2f7264663a5244463e0a3c2f783a786d706d6574613e0a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020200a2020202020202020202020202020202020202020202020202020200a3c3f787061636b657420656e643d2277223f3e23e24cb70000000473424954080808087c086488000008704944415458c3e5975b6c1cd519c77f73d95defaed7f6da6b638738769cc44d4c2e60d3186392a084946b0b8207104f2915ad5a15a954f0d08722b552d50b0f5c8ad41689a4ad0a2d2dd012712729014c1272b149e2909838767cc97a7d5ddbbb3b97336766fae08949c04941f4ad23fd359a8bcef79bfff7cd77ce81fff743f9322fb7b47c37160e876e0c1545ef5114e52a4fca4ad77512aa16caa9aa36eef97e972bacbf09e1bc79f8f0d3c6ff0ce0faeb7f54e6b8ca234511fdfb9b6f68d6aebd6e5d68f9b26a4ae21142219db1ac417aa240df9951f6bddb993f76e863cd91deef2321e5e77bf63c3efd9500dadb1fb8530f87767cfbfe6fc56eb9a9599fc8e6d07059b174f1fc3bbf7be62f34b5dd84e27b8475153c97575eee10efbff181253d6fdbbe8e27ff79b1f1b54b05dfb0e1c19fd5d65df6f8f6ed0fc5963554a9038343cc164c12958b49c634f61f38c8f32fed64f18ab544e2490cdb259bb3595113654b7ba376e5d7bf163974a0e78e54eaaad0f0d0877bbe14c0864d3ffe496bdb153f7df4d7df09ef3b748469c3055563e0ec08d53535bcb7fb2d66dd18eb37de88959fc65374f4509835b54564c7d39c383dc4ca8645dc71fbb5fae1ae53ed89c46a3934b8bfe30ba560c386076eadadbffcc53f6d7f28b2b7eb24d1aa069a6b23a4d3190cbd94a2a218d35393c412a5388e8be5483ccfc39c1e632433cad8d933dc79fb2d9427a298a6896d3bdcffbd27eca989dc5d7bf7fef6d54b02b4b53d182d4e84875e78e1918a447114805cbe802304274ef6303163d2d2be1900d775b11d174b48b21363e8ce346d2d6b50551500cff3c8e5720821181bcbf2831ffe614a0a16efdbf798792e9efa598070110f6fbbefe6644922367f2f511c273d92612c2759b262153ee003aaa6a1aa2a8aaa509a4cb166e5722cdb4638cedce0aa8aa6694829a9a828e1facdab92a8ee431775a0adedc16834ae8fbff9fa2fe39a36c7e6fb3ecf3dff0f64a884f5d76e241e8b5f00ec4817c376a8890afa4ef7f2d2ae03b45cb18c9a54194beb2e2759564a2e97c3300c7c1fb6ddf784e13a5aea9c0b1738e0fbced61bb6368775fdd3dafcf79ef749d6ad65d3969b8945e3f35f7f4e9eefe3fb3e477b06f0149d6df7dc819a5844c7c949b6bfd1cd8bafed4151143ccf43d7351a1b6b22beef6c3d37be7e81fdd1c8bd376e6d09b9aecb4747bb511485cefe69b67ca31dcf075509a2ce03fb4877ee46cbea064a8be7d2b6a822ce4dad0d8c8c658946747cdfc3b26c6c21b8a675b976b227732fb0f373009aa6ad6f585ac32f1e7b9ac8652b898755d65cdd8ee548f2b642a248bb20b8e3b808e9920a0b4a8b4be69f95248a01585e57c3ced77751519ea4381ae2efaf1da2694915ae94ad0b16a127652a1a8d905ad24453630355752b91be8a693bcc1a826c5e6009892524a62d3185c416925469d182bdc4f33cae6b6da1eb931122e130776e5ec77841a2aa5ad982008e90d1ccf81477dfb08e4a7d867cc1c4b22586e5609882e9bc607cc6663a6f93370586eda0f83e9170784100c771f07d0fdd33e91d48f3aba7fe8c174a80e7172f5803aaa6e6270cb5ec99d70fb0a2dc271a17b4d6af606c62128b189366085551e68acff3705d1f474ae2728ca6c686cf7dbd10022104edcdab38339c41295b8674555095fc8200a8daf864365f5651bd8461db25323e4c6d550bb55525140a061f7c9c61d28905017ca4eb21a4cbeeb11ce9f4077cd2db47bcb8987befba0d2925b66d63db36aaaaa022999ac9919fcde3fb8c5fa411795da7fb3324221a96905c7de5eaf927f1788c2dcd7524fc290c4b90376df2a68d610a2c3fc23bfd2a67c357d06dd4329b2f609a269665cd433cf5c77fb1b8be9189cc94af2a7ee78200d2769eeddc7f2c972a8d60580e95f1cfcc5c9ac66ded4d7c736d02c59aa660ce81144c81af15610917c372e8387402d334e7f5714f2fe3ea12aa9331d27d4379cff59f5b104051426f9fec3a89e279688acfbe23bd48293f575c15e5a5741f7c8fbc3117bc600a0a96982b56dba12f33d7f90cc3c0344d666666294f5610563c26d313284ae8ed05a7e3e1e1fdb2aebe3594b7bdb6356b1bf4837d06a5de3815c9523ccfc30fba5ef7f193ec1f02f42856f02bda62eeb7b484c3d254889a126dde81d1d131d448297dc7faccc2d4f46ff6ee7d72f745272329d4478f741c9e752d93ea648c1d1d93f4f69d617676765ee94c068770e0c0a72e18e75cc8cd502814300c83debe33ec3a7486880223a787f39e177ef4920b92e1e1fd3255b16a70a067e8d68d9baf0a4d193e95119392581821046fbdd3c18e570f134e2dc3765ceca031598ec4b2e754304c9aaa754cd3e46c7a94d2cb1af9f0ed83467662e8e1cece1da700eb522ba2d8c848d74471497d2c3d30b16ee3a675ba220d8ac3208460e7ee0398a9f50827b03e385b42228483e758cce66d9a2a25aaa6323092e750c7297b2c3df8d7e3dd2fbc0cb880136841803890181d39d21b095595f59f186cdcd8be4aafaa2861f77bfbd9753c07d1d41c8023118e440a074f58f88e852f4c126188f8163d7de31cdc3b2032c3a7df38defde2b38008e400e6c500224014888e66ba4f793234fd51d778737a74522daaac5196ad5c83eabb38c2c69736d236092b9262dd675132ccaac565d4a5e2f41c1d724f740ec8c1fe03cf9deeddf51a600432811c605f6c4d18012a80f240c9582cb9b87ee9a6bbcbca6aafa95a524d6de3d2503255465151083dac61191666c16072748ab3bd83323b96259b1dececef7bf715cb9a4d0359602ad02430027897da17440388b2f354120ac52babab57379757d45f1d8e94d428aa1ed350c2aee7399e2f0d61cf8e4e4ef41f1d1d3d76544a6b0a980d341d6812c80475f05f37261a90044a8144a0622016004682b9e45c1abd20b722b0d9000a81dd33c06870ed7fd9ad991a042c09208a02850200f53c003700b08360d3e7e7fb2b6f4ecf03d2cf0bae9e5b1e06003238fb5f64b0ff001098846f7f8e2a2a0000000049454e44ae426082),
(10, 'credit_note_out', 'Avoir émis', 'Ce ticket donne un avoir de                       ', 0, b'0', b'0', 99, NULL);

CREATE TABLE PAYMENTMODES_RETURNS (
    PAYMENTMODE_ID INTEGER NOT NULL,
    MIN DOUBLE DEFAULT 0.0 NOT NULL,
    RETURNMODE_ID INTEGER,
    PRIMARY KEY (PAYMENTMODE_ID, MIN),
    CONSTRAINT PAYMENTMODES_RULES_FK FOREIGN KEY (PAYMENTMODE_ID) REFERENCES PAYMENTMODES(ID),
    CONSTRAINT PAYMENTMODES_RULES_FK2 FOREIGN KEY (RETURNMODE_ID) REFERENCES PAYMENTMODES(ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `PAYMENTMODES_RETURNS` (`PAYMENTMODE_ID`, `MIN`, `RETURNMODE_ID`) VALUES
(1, 0, 1),
(4, 0, 1),
(5, 0, 1),
(4, 1, 10),
(5, 1, 10);

CREATE TABLE PAYMENTMODES_VALUES (
    PAYMENTMODE_ID INTEGER NOT NULL,
    VALUE DOUBLE NOT NULL,
    RESOURCE VARCHAR(255) DEFAULT NULL,
    DISPORDER INTEGER DEFAULT 0 NOT NULL,
    PRIMARY KEY (PAYMENTMODE_ID, VALUE),
    CONSTRAINT PAYMENTMODES_VALUES_FK FOREIGN KEY (PAYMENTMODE_ID) REFERENCES PAYMENTMODES(ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- Shared tickets and orders

DROP TABLE SHAREDTICKETS;

CREATE TABLE  SHAREDTICKETS (
    ID VARCHAR(255) NOT NULL,
    NAME VARCHAR(255) NOT NULL,
    CUSTOMER_ID VARCHAR(255),
    CUSTCOUNT INTEGER NULL,
    TARIFFAREA_ID INTEGER,
    DISCOUNTPROFILE_ID INTEGER,
    DISCOUNTRATE DOUBLE DEFAULT 0.0,
    CONSTRAINT SHARED_TICKET_FK_1 FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(ID),
    CONSTRAINT SHARED_TICKET_FK_2 FOREIGN KEY (TARIFFAREA_ID) REFERENCES TARIFFAREAS(ID),
    CONSTRAINT SHARED_TICKET_FK_3 FOREIGN KEY (DISCOUNTPROFILE_ID) REFERENCES DISCOUNTPROFILES(ID),
    PRIMARY KEY(ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE  SHAREDTICKETLINES (
    ID VARCHAR(255) NOT NULL,
    SHAREDTICKET_ID VARCHAR(255) NOT NULL,
    LINE INTEGER NOT NULL,
    PRODUCT_ID VARCHAR(255),
    TAX_ID VARCHAR(255) NOT NULL,
    QUANTITY INTEGER NOT NULL,
    DISCOUNTRATE DOUBLE DEFAULT 0.0,
    PRICE DOUBLE,
    ATTRIBUTES MEDIUMBLOB,
    CONSTRAINT SHARED_TICKET_LINES_FK_1 FOREIGN KEY (SHAREDTICKET_ID) REFERENCES SHAREDTICKETS(ID),
    CONSTRAINT SHARED_TICKET_LINES_FK_2 FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCTS(ID),
    CONSTRAINT SHARED_TICKET_LINES_FK_3 FOREIGN KEY (TAX_ID) REFERENCES TAXES(ID),
    PRIMARY KEY(ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE ORDERS (
    ID VARCHAR(255) NOT NULL ,
    ORDERTYPE INT(11) NOT NULL DEFAULT '0',
    ORDERID INT(11) NOT NULL ,
    PERSON VARCHAR(255) NOT NULL ,
    CUSTOMER VARCHAR(255) DEFAULT NULL ,
    STATUS INT(11) NOT NULL DEFAULT '0',
    NOTES TEXT DEFAULT NULL,
    DATE DATETIME NOT NULL,
    PRIMARY KEY(ID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE ORDERLINES (
    `ORDER` VARCHAR(255),
    LINE INT(11),
    PRODUCT VARCHAR(255),
    ATTRIBUTEINSTANCE_ID VARCHAR(255),
    UNITS DOUBLE,
    ATTRIBUTES MEDIUMBLOB
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


-- Tariff areas new stuff

ALTER TABLE CUSTOMERS ADD COLUMN TARIFFAREA_ID INTEGER;
ALTER TABLE CUSTOMERS ADD COLUMN EXPIREDATE DATE;
ALTER TABLE CUSTOMERS ADD CONSTRAINT CUSTOMERS_TARIFFAREA FOREIGN KEY (TARIFFAREA_ID) REFERENCES TARIFFAREAS(ID);
ALTER TABLE CUSTOMERS CHANGE SEARCHKEY SEARCHKEY VARCHAR(255) NULL;

-- Categories new stuff
ALTER TABLE CATEGORIES ADD COLUMN REFERENCE VARCHAR(255);

-- App version
UPDATE APPLICATIONS SET ID = "pasteque", NAME = "Pasteque", VERSION = 6 WHERE ID = "postech" OR ID = "pasteque";
